(this.webpackJsonpecomm=this.webpackJsonpecomm||[]).push([[0],{31:function(t,e,c){},32:function(t,e,c){},37:function(t,e,c){},40:function(t,e,c){},41:function(t,e,c){},42:function(t,e,c){},43:function(t,e,c){},45:function(t,e,c){},46:function(t,e,c){},47:function(t,e,c){"use strict";c.r(e);var r=c(0),n=c.n(r),i=c(14),s=c.n(i),a=(c(31),c(32),c(4)),o=c(10),d=(c(37),c(1)),u=function(){var t=Object(a.c)((function(t){return{totalItems:t.cart.totalItems}})).totalItems;return Object(d.jsx)("div",{className:"cart",children:Object(d.jsx)("h4",{children:Object(d.jsxs)(o.b,{to:"/checkout",children:["Your Cart: ",t]})})})};c(40);var l=function(){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("h2",{children:Object(d.jsx)(o.b,{to:"/",children:"E-commerce"})}),Object(d.jsx)(u,{})]})},j=(c(41),function(){return Object(d.jsx)("div",{className:"footer",children:Object(d.jsx)("p",{children:"\xa9 2021 E-commerce"})})}),b=(c(42),function(t){return Object(d.jsxs)("div",{className:"product-card",alt:"product title",children:[Object(d.jsx)("img",{className:"product-card__img",src:t.img,alt:t.title+" image"}),Object(d.jsx)("h3",{className:"product-card__name",children:t.title}),Object(d.jsxs)("div",{className:"product-card__footer",children:[Object(d.jsxs)("h5",{className:"product-card__footer__price",children:["\u20b9 ",t.price]}),Object(d.jsx)(o.b,{to:"/"+t.id,className:"product-card__footer__view",children:"View product"})]})]})}),h=(c(43),c(21)),p=c.n(h),O=c(24),m="GET_PRODUCTS",f="SET_RPODUCTS",x="SET_ERROR",_="ADD_ITEM_IN_CART",v=function(t){return{products:t,type:f}},g=function(){return function(){var t=Object(O.a)(p.a.mark((function t(e){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:m}),t.next=4,fetch("./data.json");case 4:return c=t.sent,t.next=7,c.json();case 7:r=t.sent,e(v(r)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e({type:x});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},N=function(){var t=Object(a.c)((function(t){return{products:t.products.products,error:t.products.error,loading:t.products.loading}})),e=t.products,c=t.loading,n=t.error,i=Object(a.b)();Object(r.useEffect)((function(){i(g())}),[]);var s=Object(d.jsx)("h2",{children:"Fetching Products..."});return e&&!1===c?s=e.map((function(t){return Object(d.jsx)(b,{id:t.id,title:t.title,img:t.image_url,price:t.price},t.id)})):n&&(s=Object(d.jsx)("h2",{children:"Something went wrong"})),Object(d.jsx)("div",{className:"container products",children:s})},y=c(3),I=c(26),k=(c(45),function(t){var e=Object(r.useState)(1),c=Object(I.a)(e,2),n=c[0],i=c[1],s=Object(a.b)();return Object(d.jsxs)("div",{className:"product-detail",children:[Object(d.jsx)("div",{className:"product-detail__img",children:Object(d.jsx)("img",{src:t.image_url,alt:"product"})}),Object(d.jsxs)("div",{className:"product-detail__information",children:[Object(d.jsx)("h1",{className:"product-detail__title",children:t.title}),Object(d.jsxs)("h5",{className:"product-detail__price",children:["Price: \u20b9",t.price]}),Object(d.jsxs)("div",{className:"product-detail__footer",children:[Object(d.jsxs)("div",{className:"product-detail__quantity",children:[Object(d.jsx)("h5",{children:"Quantity: "}),Object(d.jsx)("button",{onClick:function(){i(n-1)},disabled:n<=1,children:"-"}),Object(d.jsx)("span",{children:n}),Object(d.jsx)("button",{onClick:function(){i(n+1)},children:"+"})]}),Object(d.jsx)("button",{className:"product-detail__addToCart",onClick:function(){var e;s((e=t.id,{type:_,id:e,qty:n}))},children:"Add to Cart"})]})]})]})}),T=function(){var t=Object(y.g)().id,e=Object(a.c)((function(t){return{products:t.products.products,allProductsLoaded:t.products.allProductsLoaded}})),c=e.products,n=e.allProductsLoaded,i=Object(a.b)();Object(r.useEffect)((function(){n||i(g())}),[]);var s="Fetching product...";return n&&((s=(s=c.find((function(e){return e.id===parseInt(t)})))?Object(d.jsx)(k,{id:s.id,title:s.title,image_url:s.image_url,price:s.price}):null)||(s=Object(d.jsx)("h1",{children:"Product not found"}))),Object(d.jsx)("div",{className:"container",children:s})},q=(c(46),function(t){return Object(d.jsxs)("div",{className:"checkout-item",children:[Object(d.jsx)("div",{className:"checkout-item__product-img",children:Object(d.jsx)("img",{src:t.image_url,alt:t.title+" image"})}),Object(d.jsxs)("div",{className:"checkout-item__product-info",children:[Object(d.jsx)("h2",{children:t.title}),Object(d.jsxs)("h4",{children:["Quantity: ",t.quantity]}),Object(d.jsxs)("h4",{children:["Total price: ",t.price]})]})]})}),C=function(){var t=Object(a.c)((function(t){return{items:t.cart.items,totalItems:t.cart.totalItems,products:t.products.products}})),e=t.items,c=t.totalItems,r=t.products,n="Fetching your items...",i=0;return n=e.length>0?e.map((function(t){var e=r.find((function(e){return e.id===parseInt(t.id)}));return i+=e.price*t.qty,Object(d.jsx)(q,{image_url:e.image_url,title:e.title,quantity:t.qty,price:e.price*t.qty})})):Object(d.jsx)("h1",{children:"No items in cart."}),Object(d.jsxs)("div",{className:"container checkout",children:[Object(d.jsxs)("h5",{children:["Total Items: ",c]}),Object(d.jsxs)("h5",{children:["Total price: ",i]}),n]})};var P=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(l,{}),Object(d.jsxs)(y.d,{children:[Object(d.jsx)(y.b,{exact:!0,path:"/checkout",component:C}),Object(d.jsx)(y.b,{exact:!0,path:"/:id",component:T}),Object(d.jsx)(y.b,{path:"/",component:N}),Object(d.jsx)(y.a,{to:"/",component:N})]}),Object(d.jsx)(j,{})]})},w=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(e){var c=e.getCLS,r=e.getFID,n=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),r(t),n(t),i(t),s(t)}))},E=c(11),S=c(25),F=c(9),L={products:null,error:!1,loading:!1,allProductsLoaded:!1},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return Object(F.a)(Object(F.a)({},t),{},{loading:!0,error:!1});case f:return Object(F.a)(Object(F.a)({},t),{},{products:e.products,error:!1,loading:!1,allProductsLoaded:!0});case x:return Object(F.a)(Object(F.a)({},t),{},{error:!0,loading:!1});default:return t}},D={items:[],totalItems:0},A=function(t,e,c){var r=t.items.find((function(t){return t.id===e}));return r?r.qty=r.qty+c:t.items.push({id:e,qty:c}),t.items},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return Object(F.a)(Object(F.a)({},t),{},{items:A(t,e.id,e.qty),totalItems:t.totalItems+e.qty});default:return t}},J=Object(E.c)({products:R,cart:B}),M=E.d,Q=Object(E.e)(J,M(Object(E.a)(S.a)));s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(a.a,{store:Q,children:Object(d.jsx)(o.a,{children:Object(d.jsx)(P,{})})})}),document.getElementById("root")),w()}},[[47,1,2]]]);
//# sourceMappingURL=main.2933a79e.chunk.js.map